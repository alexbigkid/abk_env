{
    "linux": {
        "debian": {
            "description": "Installing pyenv for WSL / Linux / Debian based distro",
            "supported_versions": {
                "debian": ["11", "12"],
                "raspbian": ["11", "12"],
                "ubuntu": ["22.04", "24.04"]
            },
            "update_packages": [
                "sudo rm -f /var/lib/dpkg/lock* /var/cache/apt/archives/lock",
                "sudo DEBIAN_FRONTEND=noninteractive apt update",
                "sudo apt-mark hold systemd || true",
                "sudo DEBIAN_FRONTEND=noninteractive dpkg --configure -a --force-depends || true",
                "sudo DEBIAN_FRONTEND=noninteractive apt --fix-broken install -y || true"
            ],
            "tools": {
                "check": {
                    "pyenv": ["command -v pyenv"]
                },
                "install": {
                    "pyenv": [
                        "sudo apt install -y make build-essential libssl-dev zlib1g-dev libbz2-dev libreadline-dev libsqlite3-dev wget curl llvm libncurses5-dev libncursesw5-dev xz-utils tk-dev libffi-dev liblzma-dev python3-openssl git",
                        "git clone https://github.com/pyenv/pyenv.git ~/.pyenv",
                        "sudo ln -vs ~/.pyenv/bin/pyenv /usr/local/bin/pyenv",
                        "(cd ~/.pyenv && src/configure && make -C src || true)",
                        "mkdir -p ~/.pyenv/plugins",
                        "git clone https://github.com/pyenv/pyenv-virtualenv.git ~/.pyenv/plugins/pyenv-virtualenv",
                        "(cd unixBin/env && ln -s XXX_pyenv.env LINK_pyenv.env)"
                    ]
                },
                "uninstall": {
                    "pyenv": [
                        "find ./unixBin/env -type l -name 'LINK_pyenv.env' -delete",
                        "sudo find /usr/local/bin -type l -name 'pyenv' -delete",
                        "rm -Rf ~/.pyenv"
                    ]
                }
            },
            "apps": {
                "check": {
                },
                "install":{
                },
                "uninstall": {
                }
            },
            "fonts": {
                "check": {
                },
                "install": {
                },
                "uninstall": {
                }
            }
        }
    }
}
